# –ü—Ä–∏–º–µ—Ä —Å–æ–∑–¥–∞–Ω–∏—è AR –ø—Ä–æ–µ–∫—Ç–∞ –ø–æ–¥ Mobile

**üí°–£–≤–∞–∂–∞–µ–º—ã–π —Å—Ç—É–¥–µ–Ω—Ç!**

**–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–ª–∏ –≤—ã —á—Ç–æ-—Ç–æ –Ω–µ –∑–Ω–∞–µ—Ç–µ - —á–∏—Ç–∞–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –∏–ª–∏ –≥—É–≥–ª–∏—Ç–µ!!!**

---

## –í–≤–µ–¥–µ–Ω–∏–µ

–ü—Ä–µ–∂–¥–µ, —á–µ–º –º—ã –Ω–∞—á–Ω–µ–º, –¥–∞–≤–∞–π—Ç–µ —Ä–∞–∑–±–µ—Ä—ë–º—Å—è,¬†**—á—Ç–æ —Ç–∞–∫–æ–µ AR?**

- –í –¥–≤—É—Ö —Å–ª–æ–≤–∞—Ö, –¥–æ–ø–æ–ª–Ω–µ–Ω–Ω–∞—è —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å - —ç—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –¥–ª—è –Ω–∞–ª–æ–∂–µ–Ω–∏—è –ª—é–±–æ–≥–æ –≤–∏–¥–∞ –≤–∏–∑—É–∞–ª—å–Ω–æ–π –∏–ª–∏ –∑–≤—É–∫–æ–≤–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π –º–∏—Ä, –∫–∞–∫–∏–º –º—ã –µ–≥–æ –≤–∏–¥–∏–º. –ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ —Å—Ç–∏–ª—å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ ‚Äú–ñ–µ–ª–µ–∑–Ω–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞".

### –ß—Ç–æ –≤–∞–º –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è

- Unity Editor (–≤ –ø—Ä–∏–º–µ—Ä–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Unity 6) + Android module;
- [AR Foundation](https://docs.unity3d.com/Packages/com.unity.xr.arfoundation@5.1/manual/index.html)¬†(–≤ –ø—Ä–∏–º–µ—Ä–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è 6.0.2) - —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ Unity –¥–ª—è –º—É–ª—å—Ç–∏–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ AR. –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –µ–¥–∏–Ω—É—é —Å–∏—Å—Ç–µ–º—É –∏ API –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –Ω–∞—à–∏–º –±–∞–∑–æ–≤—ã–º AR-–¥–≤–∏–∂–∫–æ–º. –û–Ω —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –∏–≥—Ä–æ–≤—ã–µ –æ–±—ä–µ–∫—Ç—ã –∏ –∫–ª–∞—Å—Å—ã, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è –±—ã—Å—Ç—Ä–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö AR-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –≤ Unity;
- [XR Interaction Toolkit](https://docs.unity3d.com/Packages/com.unity.xr.interaction.toolkit@2.5/manual/index.html)¬†(–≤ –ø—Ä–∏–º–µ—Ä–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è 3.0.3) - –≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π XR.¬†–û–Ω–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ñ—Ä–µ–π–º–≤–æ—Ä–∫, –∫–æ—Ç–æ—Ä—ã–π –¥–µ–ª–∞–µ—Ç 3D-–≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–æ—Å—Ç—É–ø–Ω—ã–º–∏ –∏–∑ —Å–æ–±—ã—Ç–∏–π –≤–≤–æ–¥–∞ Unity;
- [ARCore](https://docs.unity3d.com/Packages/com.unity.xr.arcore@5.1/manual/index.html)¬†(–≤ –ø—Ä–∏–º–µ—Ä–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è 6.0.2) - —ç—Ç–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ AR –¥–ª—è Android. AR Foundation –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç —Å ARCore –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π AR –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö Android;
- [ARKit](https://docs.unity3d.com/Packages/com.unity.xr.arkit@5.1/manual/index.html) - —ç—Ç–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ AR –æ—Ç Apple. AR Foundation –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç —Å ARKit, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ AR –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö Apple;
- [XR Plugin Management](https://docs.unity3d.com/Manual/com.unity.xr.management.html) –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –ø—Ä–æ—Å—Ç–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ª—é–±—ã–º–∏ –ø–ª–∞–≥–∏–Ω–∞–º–∏ XR –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã, —Ç–∞–∫–∏–º–∏ –∫–∞–∫ ARKit –∏ ARCore.

## –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Å–≤–æ—é —Å—Ä–µ–¥—É —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### **–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∞—à–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ —Å AR**

–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ AR –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö Android –æ—Å–Ω–æ–≤–∞–Ω—ã –Ω–∞ ARCore, –∫–æ—Ç–æ—Ä—ã–π –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞¬†[—É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö ARCore](https://developers.google.com/ar/devices).¬†–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∞—à–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ —Å AR.¬†–í –∫–∞—á–µ—Å—Ç–≤–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π¬†[AR-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä Android-—ç–º—É–ª—è—Ç–æ—Ä–∞](https://developers.google.com/ar/develop/java/emulator).

### **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –æ—Ç–ª–∞–¥–∫—É –ø–æ USB –Ω–∞ —Å–≤–æ–µ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ**

–í–∞–º –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –≤–∫–ª—é—á–∏—Ç—å¬†**–ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞**¬†–Ω–∞ –≤–∞—à–µ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏.¬†–ï—Å–ª–∏ –≤—ã –µ—â–µ —ç—Ç–æ–≥–æ –Ω–µ —Å–¥–µ–ª–∞–ª–∏, –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ Android –æ¬†[–≤–∫–ª—é—á–µ–Ω–∏–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ –∏ –æ—Ç–ª–∞–¥–∫–µ –ø–æ USB](https://developer.android.com/studio/debug/dev-options#enable).

## –ü–µ—Ä–≤–∏—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

### **–°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞**

–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç —Å —à–∞–±–ª–æ–Ω–æ–º ‚Äú**Universal 3D**‚Äù –∏ –Ω–∞–∑–æ–≤–∏—Ç–µ –µ–≥–æ –ø–æ —Å–≤–æ–µ–º—É –≤–∫—É—Å—É. –í–∞–º —Å–ª–µ–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Unity Hub, –ø–æ—Å–∫–æ–ª—å–∫—É –æ–Ω –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ø—Ä–æ—â–∞–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞–º–∏.

### **–ò–º–ø–æ—Ä—Ç SDK –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤**

–î–ª—è –Ω–∞—à–∏—Ö —Ç–µ–∫—É—â–∏—Ö –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π –Ω–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è –Ω–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —ç—Ç–æ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –æ—á–µ–Ω—å –ø—Ä–æ—Å—Ç–æ, –Ω–∞–π–¥—è –∏—Ö –≤¬†**Package Manager:**

- **AR Foundation**;
- **Google ARCore XR Plugin** (–î–ª—è Android) / **Apple ARKit XR Plugin** (–î–ª—è iOS);
- **OpenXR Plugin**;
- **XR Interaction Toolkit**.

–ö–æ–≥–¥–∞ –≤—ã –∑–∞–∫–æ–Ω—á–∏—Ç–µ, –≤–∞—à –º–µ–Ω–µ–¥–∂–µ—Ä –ø–∞–∫–µ—Ç–æ–≤ –¥–æ–ª–∂–µ–Ω –≤—ã–≥–ª—è–¥–µ—Ç—å –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫:

### **–ò–∑–º–µ–Ω–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–±–æ—Ä–∫–∏**

–ü–æ—Å–∫–æ–ª—å–∫—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ Android, –∏–∑–º–µ–Ω–∏—Ç–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—É —Å–±–æ—Ä–∫–∏ –Ω–∞ Android:

1. –û—Ç–∫—Ä–æ–π—Ç–µ¬†**File > Build Profiles;**
2. –ù–∞ –ø–∞–Ω–µ–ª–∏ "**Platforms**" –≤—ã–±–µ—Ä–∏—Ç–µ "**Android**";
3. –ù–∞–∂–º–∏—Ç–µ¬†**Switch Platform**.

### **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø—Ä–æ–∏–≥—Ä—ã–≤–∞—Ç–µ–ª—è**

AR Foundation –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ XR-—Å–∏—Å—Ç–µ–º –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ.

1. –û—Ç–∫—Ä–æ–π—Ç–µ¬†**Edit > Project Settings‚Ä¶**¬†–∏ –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ —Ä–∞–∑–¥–µ–ª¬†**XR Plug-in Management;**
2. –ü–æ–¥–∫–ª—é—á–∞–µ–º –º–æ–¥—É–ª—å –¥–ª—è —Ü–µ–ª–µ–≤–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã:
    - Android - –ù–∞ –≤–∫–ª–∞–¥–∫–µ¬†**Android**¬†–≤–∫–ª—é—á–∏—Ç–µ¬†**Google ARCore.**
    - iOS - –ù–∞ –≤–∫–ª–∞–¥–∫–µ¬†**iOS** –≤–∫–ª—é—á–∏—Ç–µ¬†**ARKit.**
3. –ù–∞ –ª–µ–≤–æ–π –ø–∞–Ω–µ–ª–∏ —â–µ–ª–∫–Ω–∏—Ç–µ —Ä–∞–∑–¥–µ–ª "**Player**";
4. –ù–∞ –≤–∫–ª–∞–¥–∫–µ "**Android**" –≤ —Ä–∞–∑–¥–µ–ª–µ "**Other Settings**" —É–¥–∞–ª–∏—Ç–µ¬†**Vulkan**¬†–∏–∑¬†**Graphics APIs.**
5. –î–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –¥–ª—è AR, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏—Ö ARCore, —Ç—Ä–µ–±—É–µ—Ç—Å—è –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å API 24.¬†–ü—Ä–æ–∫—Ä—É—Ç–∏—Ç–µ –≤–Ω–∏–∑ –∏ –Ω–∞–π–¥–∏—Ç–µ¬†**Minimum API Level**.¬†–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å API —Ä–∞–≤–Ω—ã–º 24;
6. –ù–∞ –≤–∫–ª–∞–¥–∫–µ "**Active Input Handler**" –≤ —Ä–∞–∑–¥–µ–ª–µ "**Other Settings**" –≤—ã–±–µ—Ä–∏—Ç–µ **Input System Package.** –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—ã–±—Ä–∞–Ω –≤–∞—Ä–∏–∞–Ω—Ç **Both**, —ç—Ç–æ—Ç –≤–∞—Ä–∏–∞–Ω—Ç –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –Ω–∞ Android –∏ –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å –≤–≤–æ–¥–æ–º –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

### **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞**

–î–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å AR Foundation –≤ URP —Ç—Ä–µ–±—É—é—Ç—Å—è –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è.

1. –û—Ç–∫—Ä–æ–π—Ç–µ¬†**Edit > Project Settings‚Ä¶**¬†–∏ –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ —Ä–∞–∑–¥–µ–ª¬†**Graphics;**
2. –í —Ä–∞–∑–¥–µ–ª–µ **Default Render Pipeline** –∏–∑–º–µ–Ω–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫—É —Å **PC** –Ω–∞ **Mobile** (–≤ —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ —É –≤–∞—Å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –≤–∞—Ä–∏–∞–Ω—Ç –≤ —Å–ø–∏—Å–∫–µ, —Ç–æ –ø—Ä–æ–∏–≥–Ω–æ—Ä–∏—Ä—É–π—Ç–µ –¥–∞–Ω–Ω—ã–π –ø—É–Ω–∫—Ç);
3. –ù–∞ –ø–∞–Ω–µ–ª–∏ "**Project**" –ø–µ—Ä–µ–π–¥–∏—Ç–µ —á–µ—Ä–µ–∑ "**Assets" > "Settings"**, —á—Ç–æ–±—ã –Ω–∞–π—Ç–∏ –∞–∫—Ç–∏–≤ "**Mobile_Renderer**" –≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ;
4. –ù–∞ –ø–∞–Ω–µ–ª–∏ –∏–Ω—Å–ø–µ–∫—Ç–æ—Ä–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ¬†**Add Renderer Feature**, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å¬†**AR Background Renderer Feature**.¬†–≠—Ç–æ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å –∫–∞–º–µ—Ä—ã –≤ –≤–∞—à–µ–π —Å—Ü–µ–Ω–µ.

## –°–æ–∑–¥–∞–Ω–∏–µ AR —Å—Ü–µ–Ω—ã

### **–°–æ–∑–¥–∞–Ω–∏–µ AR-–∫–∞–º–µ—Ä –∏ –æ–±—ä–µ–∫—Ç–æ–≤ —Å–µ–∞–Ω—Å–∞ AR**

Unity –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–æ–∑–¥–∞–µ—Ç –¥–ª—è –Ω–∞—Å –≥–ª–∞–≤–Ω—É—é –∫–∞–º–µ—Ä—É –≤ —Å—Ü–µ–Ω–µ.¬†–•–æ—Ç—è –µ–µ –º–æ–∂–Ω–æ –±—ã–ª–æ –±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ AR-–∫–∞–º–µ—Ä—É, –º—ã –∑–∞–º–µ–Ω–∏–º –µ–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π –∫–∞–º–µ—Ä—ã AR Foundations.¬†–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ —É –Ω–∞—Å –±—É–¥–µ—Ç –≥–æ—Ä–∞–∑–¥–æ –±–æ–ª—å—à–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å AR.

–ó–∞–ø—É—Å–∫ –ª—é–±–æ–≥–æ AR-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è AR-—Å–µ—Å—Å–∏–µ–π, –≤—Å—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞–º–µ—Ä—ã, –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏ —Ç.–¥. –° –ø–æ–º–æ—â—å—é AR Foundation –º—ã –º–æ–∂–µ–º –≤—Ä—É—á–Ω—É—é –∑–∞–ø—É—Å–∫–∞—Ç—å, –ø—Ä–∏–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –∏–ª–∏ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å —Å–µ–∞–Ω—Å –∏ –¥–µ–ª–∞—Ç—å –º–Ω–æ–≥–æ–µ –¥—Ä—É–≥–æ–µ.

–£–¥–∞–ª–∏—Ç–µ –≤—Å–µ –æ–±—ä–µ–∫—Ç—ã¬†–≤ **Hierarchy**.

–©–µ–ª–∫–Ω–∏—Ç–µ –ø—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π –º—ã—à–∏ –≤ **Hierarchy** –∏ –≤—ã–±–µ—Ä–∏—Ç–µ:

- **XR > AR Session**

    **AR Session** —É–ø—Ä–∞–≤–ª—è–µ—Ç –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º AR-–≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è.¬†–í –æ—Å–Ω–æ–≤–Ω–æ–º —ç—Ç–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç AR session –∏ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.

- **XR > XR Origin (Mobile AR)**

    **XR Origin (Mobile AR)**¬†–ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç AR-–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤ –º–∏—Ä–æ–≤—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã Unity, –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ü–µ–Ω—Ç—Ä –º–∏—Ä–∞ AR.¬†–£ –Ω–µ–≥–æ —Ç–∞–∫–∂–µ –µ—Å—Ç—å –¥–æ—á–µ—Ä–Ω—è—è AR-–∫–∞–º–µ—Ä–∞, –≤ –∫–æ—Ç–æ—Ä–æ–π –µ—Å—Ç—å —Å—Ü–µ–Ω–∞—Ä–∏–∏, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã –≤ AR.

–ù–∞ —ç—Ç–æ–º –º—ã –∑–∞–∫–æ–Ω—á–∏–ª–∏ —Å –ø–µ—Ä–≤–∏—á–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π —Å—Ü–µ–Ω—ã.

## **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞**

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∞—à–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–æ –∏ –≤–∫–ª—é—á–µ–Ω–∞ –æ—Ç–ª–∞–¥–∫–∞ ADB;
2. –ù–∞–∂–º–∏—Ç–µ¬†**File > Build Profiles**;
3. –í —Ä–∞–∑–¥–µ–ª–µ **Run Device** –≤—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ (–µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç –≤ —Å–ø–∏—Å–∫–µ—Ç–æ —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ –ø—Ä–æ–±–ª–µ–º—ã —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º);
4. –≠—Ç–æ –∑–∞–≥—Ä—É–∑–∏—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ –≤–∞—à–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç –µ–≥–æ –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏;
5. –í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å —Ç—Ä–∞–Ω—Å–ª—è—Ü–∏—é —Å –∫–∞–º–µ—Ä—ã –Ω–∞ —ç–∫—Ä–∞–Ω–µ –≤–∞—à–µ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.F

## –§—É–Ω–∫—Ü–∏–∏ AR

| **Feature** | –û–ø–∏—Å–∞–Ω–∏–µ | ARCore | ARKit |
| --- | --- | --- | --- |
|  |  | Android | iOS |
| [Session](https://docs.unity3d.com/Packages/com.unity.xr.arfoundation@6.0/manual/features/session.html) | –í–∫–ª—é—á–∞—Ç—å, –æ—Ç–∫–ª—é—á–∞—Ç—å –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å AR –Ω–∞ —Ü–µ–ª–µ–≤–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ. | –î–∞ | –î–∞ |
| [Device tracking](https://docs.unity3d.com/Packages/com.unity.xr.arfoundation@6.0/manual/features/device-tracking.html) | –û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ –∏ –≤—Ä–∞—â–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –≤ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ. | –î–∞ | –î–∞ |
| [Camera](https://docs.unity3d.com/Packages/com.unity.xr.arfoundation@6.0/manual/features/camera.html) | –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å –∫–∞–º–µ—Ä —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –∏ –≤—ã–ø–æ–ª–Ω—è–π—Ç–µ –æ—Ü–µ–Ω–∫—É –æ—Å–≤–µ—â–µ–Ω–Ω–æ—Å—Ç–∏. | –î–∞ | –î–∞ |
| [Plane detection](https://docs.unity3d.com/Packages/com.unity.xr.arfoundation@6.0/manual/features/plane-detection.html) | –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–ª–æ—Å–∫–∏—Ö –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–µ–π. | –î–∞ | –î–∞ |
| [Image tracking](https://docs.unity3d.com/Packages/com.unity.xr.arfoundation@6.0/manual/features/image-tracking.html) | –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ 2D-–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π. | –î–∞ | –î–∞ |
| [Object tracking](https://docs.unity3d.com/Packages/com.unity.xr.arfoundation@6.0/manual/features/object-tracking.html) | –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ 3D-–æ–±—ä–µ–∫—Ç–æ–≤. |  | –î–∞ |
| [Face tracking](https://docs.unity3d.com/Packages/com.unity.xr.arfoundation@6.0/manual/features/face-tracking.html) | –û–±–Ω–∞—Ä—É–∂–∏–≤–∞—Ç—å –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏–µ –ª–∏—Ü–∞. | –î–∞ | –î–∞ |
| [Body tracking](https://docs.unity3d.com/Packages/com.unity.xr.arfoundation@6.0/manual/features/body-tracking.html) | –û–±–Ω–∞—Ä—É–∂–∏–≤–∞—Ç—å –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —á–µ–ª–æ–≤–µ—á–µ—Å–∫–æ–µ —Ç–µ–ª–æ. |  | –î–∞ |
| [Point clouds](https://docs.unity3d.com/Packages/com.unity.xr.arfoundation@6.0/manual/features/point-clouds.html) | –û–±–Ω–∞—Ä—É–∂–∏–≤–∞—Ç—å –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω—ã–µ —Ç–æ—á–∫–∏. | –î–∞ | –î–∞ |
| [Raycasts](https://docs.unity3d.com/Packages/com.unity.xr.arfoundation@6.0/manual/features/raycasts.html) | –ù–∞–ø—Ä–∞–≤–ª—è–π—Ç–µ –ª—É—á–∏ –Ω–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã–µ –ø—Ä–µ–¥–º–µ—Ç—ã. | –î–∞ | –î–∞ |
| [Anchors](https://docs.unity3d.com/Packages/com.unity.xr.arfoundation@6.0/manual/features/anchors.html) | –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã—Ö —Ç–æ—á–µ–∫ –≤ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ. | –î–∞ | –î–∞ |
| [Meshing](https://docs.unity3d.com/Packages/com.unity.xr.arfoundation@6.0/manual/features/meshing.html) | –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ç–æ–∫ —Å—Ä–µ–¥—ã. |  | –î–∞ |
| [Environment probes](https://docs.unity3d.com/Packages/com.unity.xr.arfoundation@6.0/manual/features/environment-probes.html) | –°–æ–∑–¥–∞–Ω–∏–µ –∫—É–±–∏—á–µ—Å–∫–∏—Ö –∫–∞—Ä—Ç —Å—Ä–µ–¥—ã. | –î–∞ | –î–∞ |
| [Occlusion](https://docs.unity3d.com/Packages/com.unity.xr.arfoundation@6.0/manual/features/occlusion.html) | –ó–∞–∫—Ä–æ–π—Ç–µ AR-–∫–æ–Ω—Ç–µ–Ω—Ç —Ñ–∏–∑–∏—á–µ—Å–∫–∏–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—é –ø–æ —á–µ–ª–æ–≤–µ–∫—É. | –î–∞ | –î–∞ |
| [Participants](https://docs.unity3d.com/Packages/com.unity.xr.arfoundation@6.0/manual/features/participant-tracking.html) | –û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ –¥—Ä—É–≥–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –≤ –æ–±—â–µ–º —Å–µ–∞–Ω—Å–µ AR. |  | –î–∞ |

## –ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –û–±–Ω–∞—Ä—É–∂–∏–≤–∞–π—Ç–µ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –º–∏—Ä–µ

–¢–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ –±–∞–∑–æ–≤–∞—è —Å—Ü–µ–Ω–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞, –≤—ã –º–æ–∂–µ—Ç–µ –ø—Ä–∏—Å—Ç—É–ø–∏—Ç—å –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –∏–≥—Ä—ã. –ù–∞ —ç—Ç–æ–º —à–∞–≥–µ –≤—ã –æ–±–Ω–∞—Ä—É–∂–∏—Ç–µ –ø–ª–æ—Å–∫–æ—Å—Ç–∏ –∏ –Ω–∞—Ä–∏—Å—É–µ—Ç–µ –∏—Ö –Ω–∞ —Å—Ü–µ–Ω–µ.

### **–î–æ–±–∞–≤—å—Ç–µ¬†`ARPlaneManager`¬†–∫–æ–º–ø–æ–Ω–µ–Ω—Ç**

[`ARPlaneManager`](https://docs.unity3d.com/Packages/com.unity.xr.arfoundation@4.1/api/UnityEngine.XR.ARFoundation.ARPlaneManager.html)¬†–æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç¬†[`ARPlane`](https://docs.unity3d.com/Packages/com.unity.xr.arfoundation@4.1/api/UnityEngine.XR.ARFoundation.ARPlane.html)¬†–∏–≥—Ä–æ–≤—ã–µ –æ–±—ä–µ–∫—Ç—ã, —Å–æ–∑–¥–∞–µ—Ç –∏—Ö, –æ–±–Ω–æ–≤–ª—è–µ—Ç –∏ —É–¥–∞–ª—è–µ—Ç, –∫–æ–≥–¥–∞ –º–µ–Ω—è–µ—Ç—Å—è –≤–æ—Å–ø—Ä–∏—è—Ç–∏–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ–º.

**ARPlane** - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, —Ç–∏–ø –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–∞–Ω–Ω—ã–µ, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å—é.

1. –í—ã–±–µ—Ä–∏—Ç–µ –∏–≥—Ä–æ–≤–æ–π –æ–±—ä–µ–∫—Ç ‚Äú**XR Origin (Mobile AR)**‚Äù.¬†–ù–∞ –ø–∞–Ω–µ–ª–∏ –∏–Ω—Å–ø–µ–∫—Ç–æ—Ä–∞ –Ω–∞–∂–º–∏—Ç–µ¬†‚Äù**Add Component**‚Äù, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å¬†**AR Plane Manager**;
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ¬†`ARPlaneManager`, —É—Å—Ç–∞–Ω–æ–≤–∏–≤¬†`Plane Prefab`¬†–ø–æ–ª–µ:
    1. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É —Ä—è–¥–æ–º —Å¬†`None`, —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å –æ–∫–Ω–æ¬†**–í—ã–±–æ—Ä–∞ –∏–≥—Ä–æ–≤–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞**;
    2. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∫–ª–∞–¥–∫—É "**Assets**" –∏ –Ω–∞–π–¥–∏—Ç–µ "**AR Feathered Plane"**.
        –≠—Ç–æ—Ç —Å–±–æ—Ä–Ω—ã–π –º–∞—Ç–µ—Ä–∏–∞–ª –∏–∑ —Å—Ç–∞—Ä—Ç–æ–≤–æ–≥–æ –ø–∞–∫–µ—Ç–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∑–µ—Ä–Ω–∏—Å—Ç—É—é —Ç–µ–∫—Å—Ç—É—Ä—É –ø–æ–ª–∞, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤ –∫–∞—á–µ—Å—Ç–≤–µ –¥–µ–∫–æ—Ä–∞ –ø–ª–æ—Å–∫–æ—Å—Ç–∏.
3. –ò–∑–º–µ–Ω–∏—Ç–µ¬†`Detection Mode`¬†–Ω–∞¬†`Horizontal`.¬†–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç `ARPlaneManager` —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–µ –ø–ª–æ—Å–∫–æ—Å—Ç–∏ (–∫ –ø—Ä–∏–º–µ—Ä—É –ø–æ–ª, –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å —Å—Ç–æ–ª–∞ –∏ —Ç.–¥.).

### **–î–æ–±–∞–≤—å—Ç–µ¬†`ARRaycastManager`¬†–∫–æ–º–ø–æ–Ω–µ–Ω—Ç**

`ARRaycastManager`¬†–ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å raycast.¬†–ù–∞ —Å–ª–µ–¥—É—é—â–µ–º —à–∞–≥–µ –º—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ—Ç –æ–±—ä–µ–∫—Ç –¥–ª—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è.

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã–∑—ã–≤–∞–µ–º—ã–π –æ–±—ä–µ–∫—Ç¬†‚Äú**XR Origin (Mobile AR)**‚Äù¬†–≤—ã–±—Ä–∞–Ω –Ω–∞ –ø–∞–Ω–µ–ª–∏ –ò–µ—Ä–∞—Ä—Ö–∏–∏;
2. –í –∏–Ω—Å–ø–µ–∫—Ç–æ—Ä–µ –Ω–∞–∂–º–∏—Ç–µ¬†**Add Component**, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å `ARRaycastManager` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∫ –≤–∞—à–µ–º—É –∏–≥—Ä–æ–≤–æ–º—É –æ–±—ä–µ–∫—Ç—É.

–î–∞–ª—å–Ω–µ–π—à–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —ç—Ç–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è.

### **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**

1. –°–¥–µ–ª–∞–π—Ç–µ –Ω–æ–≤—É—é –∏–≥—Ä–æ–≤—É—é —Å–±–æ—Ä–∫—É –Ω–∞ –≤–∞—à–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ;
2. –ù–∞–ø—Ä–∞–≤—å—Ç–µ —Å–≤–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –Ω–∞ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—É—é –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å —Ä–µ–∞–ª—å–Ω–æ–≥–æ –º–∏—Ä–∞ –∏ –ø–µ—Ä–µ–º–µ—â–∞–π—Ç–µ –µ–≥–æ, —á—Ç–æ–±—ã —É–ª—É—á—à–∏—Ç—å –ø–æ–Ω–∏–º–∞–Ω–∏–µ ARCore –æ–∫—Ä—É–∂–∞—é—â–µ–≥–æ –º–∏—Ä–∞;
3. –ö–æ–≥–¥–∞ ARCore –æ–±–Ω–∞—Ä—É–∂–∏—Ç –ø–ª–æ—Å–∫–æ—Å—Ç—å, –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å —Ç–µ–∫—Å—Ç—É—Ä—É –∏–∑ —Ç–æ—á–µ–∫, –ø–æ–∫—Ä—ã–≤–∞—é—â—É—é —Ä–µ–∞–ª—å–Ω—ã–µ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏.¬†`ARPlaneManager`¬†—Å–æ–∑–¥–∞–µ—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä –∑–∞–¥–∞–Ω–Ω–æ–π¬†`Plane Prefab`¬†–¥–ª—è –∫–∞–∂–¥–æ–π –æ–±–Ω–∞—Ä—É–∂–µ–Ω–Ω–æ–π –ø–ª–æ—Å–∫–æ—Å—Ç–∏.

## –ü—Ä–æ–≤–µ–¥–∏—Ç–µ —Ç–µ—Å—Ç –ø–æ–ø–∞–¥–∞–Ω–∏—è –ø–æ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–º –ø–ª–æ—Å–∫–æ—Å—Ç—è–º

–ù–∞ –ø—Ä–µ–¥—ã–¥—É—â–µ–º —à–∞–≥–µ –≤—ã –∑–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –º–æ–∂–µ—Ç –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞—Ç—å –ø–ª–æ—Å–∫–æ—Å—Ç–∏.¬†–≠—Ç–∏ –ø–ª–æ—Å–∫–æ—Å—Ç–∏ –æ—Ç—Ä–∞–∂–µ–Ω—ã –≤ —Å—Ü–µ–Ω–µ –≤–∞—à–µ–π –∏–≥—Ä—ã.¬†–¢–µ–ø–µ—Ä—å –≤—ã –¥–æ–±–∞–≤–∏—Ç–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —ç—Ç–∏–º –ø–ª–æ—Å–∫–æ—Å—Ç—è–º, —Å–æ–∑–¥–∞–≤ –ø—Ä–∏—Ü–µ–ª—å–Ω—É—é —Å–µ—Ç–∫—É –∏ –∞–≤—Ç–æ–º–æ–±–∏–ª—å, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –µ–∑–¥–∏—Ç—å –ø–æ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–Ω–æ–π –ø–ª–æ—Å–∫–æ—Å—Ç–∏.

### **–°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–∏—Ü–µ–ª**

–î–∞–≤–∞–π—Ç–µ —Å–¥–µ–ª–∞–µ–º —Ç–∞–∫, —á—Ç–æ –∏–≥—Ä–æ–∫ –Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç —Å–≤–æ–π —Ç–µ–ª–µ—Ñ–æ–Ω –Ω–∞ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å.¬†–ß—Ç–æ–±—ã –æ–±–µ—Å–ø–µ—á–∏—Ç—å —á–µ—Ç–∫—É—é –≤–∏–∑—É–∞–ª—å–Ω—É—é –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å –¥–ª—è –æ–±–æ–∑–Ω–∞—á–µ–Ω–Ω–æ–≥–æ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è, –≤—ã –±—É–¥–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∏—Ü–µ–ª.

–ß—Ç–æ–±—ã "–ø—Ä–∏–∫–ª–µ–∏—Ç—å" –µ–≥–æ –∫ AR-–ø–ª–æ—Å–∫–æ—Å—Ç–∏, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ—Å—Ç –ø–æ–ø–∞–¥–∞–Ω–∏—è.¬†–¢–µ—Å—Ç –ø–æ–ø–∞–¥–∞–Ω–∏—è - —ç—Ç–æ –º–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –≤—ã—á–∏—Å–ª—è–µ—Ç –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è –ø—Ä–∏ –æ—Ç–±—Ä–∞—Å—ã–≤–∞–Ω–∏–∏ –ª—É—á–∞ –≤ –∑–∞–¥–∞–Ω–Ω–æ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏.¬†–í—ã –±—É–¥–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ—Å—Ç –ø–æ–ø–∞–¥–∞–Ω–∏—è, —á—Ç–æ–±—ã –æ–±–Ω–∞—Ä—É–∂–∏—Ç—å –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ –≤ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –æ–±–∑–æ—Ä–∞ –∫–∞–º–µ—Ä—ã.

### –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏—Ü–µ–ª–∞

–ü—Ä–∏—Ü–µ–ª –¥–æ–ª–∂–µ–Ω –±—É–¥–µ—Ç —Ä–∞—Å–ø–æ–ª–∞–≥–∞—Ç—å—Å—è –Ω–∞ –ø–ª–æ—Å–∫–æ—Å—Ç–∏, –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ü–µ–Ω—Ç—Ä–µ –æ–∫–Ω–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.

1. –î–∞–≤–∞–π—Ç–µ —Å–æ–∑–¥–∞–¥–∏–º –ø—É—Å—Ç–æ–π –∏–≥—Ä–æ–≤–æ–π –æ–±—ä–µ–∫—Ç –∏ –Ω–∞–∑–æ–≤—ë–º –µ–≥–æ **AimObject** –∏ –≤–Ω—É—Ç—Ä–∏ –Ω–µ–≥–æ —Å–æ–∑–¥–∞–¥–∏–º —Å—Ñ–µ—Ä—É, –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ —É —Å—Ñ–µ—Ä—ã –∏–∑–º–µ–Ω–∏–º –º–∞—Å—à—Ç–∞–± –ø–æ –∫–∞–∂–¥–æ–º—É –≤–µ–∫—Ç–æ—Ä—É –Ω–∞ ‚Äú**0.1**‚Äù;
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –Ω–∞–∑—ã–≤–∞—Ç—å—Å—è `AimBehaviour` –∏ –ø–æ–º–µ—Å—Ç–∏—Ç–µ –µ–≥–æ **AimObject**;
3. –û—Ç–∫—Ä–æ–π—Ç–µ¬†`AimBehaviour.cs`¬†—Å–∫—Ä–∏–ø—Ç –∏ –≤—Å—Ç–∞–≤—å—Ç–µ —Ç—É–¥–∞ —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥:

    ```csharp
    using System.Collections.Generic;
    using UnityEngine;
    using UnityEngine.XR.ARFoundation;
    using UnityEngine.XR.ARSubsystems;
    
    public class AimBehaviour : MonoBehaviour
    {
        [SerializeField] private GameObject target; // –û–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å, —á—Ç–æ –º—ã —Ü–µ–ª–∏–º—Å—è –Ω–∞ –ø–ª–æ—Å–∫–æ—Å—Ç—å
        [SerializeField] private ARRaycastManager raycastManager; // –ú–µ–Ω–µ–¥–∂–µ—Ä –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ª—É—á–∞–º–∏
        [SerializeField] private ARPlaneManager planeManager; // –ú–µ–Ω–µ–¥–∂–µ—Ä –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–ª–æ—Å–∫–æ—Å—Ç—è–º–∏
    
        private ARPlane _currentPlane; // –¢–µ–∫—É—â–∞—è –ø–ª–æ—Å–∫–æ—Å—Ç—å, –Ω–∞ –∫–æ—Ç–æ—Ä—É—é –º—ã —Ü–µ–ª–∏–º—Å—è
        private Camera _mainCamera; // –û—Å–Ω–æ–≤–Ω–∞—è –∫–∞–º–µ—Ä–∞
    
        private void Start()
        {
            _mainCamera = Camera.main;
        }
    
        private void Update()  
        {
            var screenCenter = _mainCamera.ViewportToScreenPoint(new Vector3(0.5f, 0.5f)); // –¶–µ–Ω—Ç—Ä —ç–∫—Ä–∞–Ω–∞
    
            var hits = new List<ARRaycastHit>();
            raycastManager.Raycast(screenCenter, hits, TrackableType.PlaneWithinBounds); // –ü—É—Å–∫–∞–µ–º –ª—É—á–∏ –≤ —Ü–µ–Ω—Ç—Ä —ç–∫—Ä–∞–Ω–∞
            
            ARRaycastHit? hit = hits[0]; 
    
            _currentPlane = planeManager.GetPlane(hit.Value.trackableId); // –ü–æ–ª—É—á–∞–µ–º –ø–ª–æ—Å–∫–æ—Å—Ç—å, –Ω–∞ –∫–æ—Ç–æ—Ä—É—é –º—ã —Ü–µ–ª–∏–º—Å—è
            transform.position = hit.Value.pose.position; // –ü–µ—Ä–µ–º–µ—â–∞–µ–º –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –º—ã —Ü–µ–ª–∏–º—Å—è –Ω–∞ –ø–ª–æ—Å–∫–æ—Å—Ç—å
    
            target.SetActive(_currentPlane != null); // –í–∫–ª—é—á–∞–µ–º –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –º—ã —Ü–µ–ª–∏–º—Å—è –Ω–∞ –ø–ª–æ—Å–∫–æ—Å—Ç—å
        }
    }
    ```

4. –†–∞–∑–±–µ—Ä—ë–º—Å—è, —á—Ç–æ –Ω–∞–ø–∏—Å–∞–Ω–æ –≤ –∫–æ–¥–µ –≤—ã—à–µ:
    1. **–ü–æ–ª—è –∫–ª–∞—Å—Å–∞**:
        - `target`: –û–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏—Ü–µ–ª–∞ –Ω–∞ –ø–ª–æ—Å–∫–æ—Å—Ç–∏;
        - `raycastManager`: –°—Å—ã–ª–∫–∞ –Ω–∞ –º–µ–Ω–µ–¥–∂–µ—Ä –ª—É—á–µ–≤–æ–≥–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è (`ARRaycastManager`), –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –ª—É—á–µ–π –≤ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –∏—Ö –ø—É—Ç–∏;
        - `planeManager`: –°—Å—ã–ª–∫–∞ –Ω–∞ –º–µ–Ω–µ–¥–∂–µ—Ä –ø–ª–æ—Å–∫–æ—Å—Ç–µ–π (`ARPlaneManager`), –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø–ª–æ—Å–∫–æ—Å—Ç–µ–π –≤ AR-—Å—Ä–µ–¥–µ;
        - `_currentPlane`: –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å—Å—ã–ª–∫–∏ –Ω–∞ —Ç–µ–∫—É—â—É—é –ø–ª–æ—Å–∫–æ—Å—Ç—å, –Ω–∞ –∫–æ—Ç–æ—Ä—É—é –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω –ø—Ä–∏—Ü–µ–ª;
        - `_mainCamera`: –°—Å—ã–ª–∫–∞ –Ω–∞ –æ—Å–Ω–æ–≤–Ω—É—é –∫–∞–º–µ—Ä—É, –∏—Å–ø–æ–ª—å–∑—É–µ–º—É—é –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –∏ —Ä–∞–±–æ—Ç—ã —Å viewport.
    2. **–ú–µ—Ç–æ–¥ Start**: –ó–¥–µ—Å—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π¬†`_mainCamera`, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–ª—É—á–∞–µ—Ç —Å—Å—ã–ª–∫—É –Ω–∞ –æ—Å–Ω–æ–≤–Ω—É—é –∫–∞–º–µ—Ä—É —Å—Ü–µ–Ω—ã —á–µ—Ä–µ–∑¬†`Camera.main`.
    3. **–ú–µ—Ç–æ–¥ Update**: –í —ç—Ç–æ–º –º–µ—Ç–æ–¥–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ª–æ–≥–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–π —Ü–µ–ª–∏ (–ø–ª–æ—Å–∫–æ—Å—Ç–∏) –¥–ª—è –ø—Ä–∏—Ü–µ–ª–∞. –ü—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–ª–µ–¥—É—é—â–µ–µ:
        - –í—ã—á–∏—Å–ª—è–µ—Ç—Å—è —Ü–µ–Ω—Ç—Ä —ç–∫—Ä–∞–Ω–∞ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –æ—Å–Ω–æ–≤–Ω–æ–π –∫–∞–º–µ—Ä—ã;
        - –û—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –ª—É—á–∏ –∏–∑ —Ü–µ–Ω—Ç—Ä–∞ —ç–∫—Ä–∞–Ω–∞ –≤ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ —Å –ø–æ–º–æ—â—å—é¬†`raycastManager.Raycast`, —á—Ç–æ–±—ã –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –Ω–∞ –∫–∞–∫–æ–π –ø–ª–æ—Å–∫–æ—Å—Ç–∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —ç—Ç–æ—Ç —Ü–µ–Ω—Ç—Ä. –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ —Å–ø–∏—Å–æ–∫¬†`hits`;
        - –ò–∑ —Å–ø–∏—Å–∫–∞¬†`hits`¬†–≤—ã–±–∏—Ä–∞–µ—Ç—Å—è –ø–µ—Ä–≤—ã–π –ø–æ–ø–∞–≤—à–∏–π—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç (`hit`), –µ—Å–ª–∏ —Ç–∞–∫–æ–≤–æ–π –∏–º–µ–µ—Ç—Å—è;
        - –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω–∞ –ø–ª–æ—Å–∫–æ—Å—Ç—å (`_currentPlane`¬†–Ω–µ —Ä–∞–≤–µ–Ω¬†`null`), —Ç–æ –æ–±—ä–µ–∫—Ç `target` –ø–µ—Ä–µ–º–µ—â–∞–µ—Ç—Å—è –≤ –ø–æ–∑–∏—Ü–∏—é, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é —Ü–µ–ª–∏, –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è. –í –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ –æ–±—ä–µ–∫—Ç¬†`target`¬†–¥–µ–∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è.

### **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Å–µ—Ç–∫—É**

1. –°–æ–∑–¥–∞–¥–∏–º –Ω–æ–≤—É—é –∏–≥—Ä–æ–≤—É—é —Å–±–æ—Ä–∫—É –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —á—Ç–æ–±—ã –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–Ω–µ—Å–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è;
2. –ö–æ–≥–¥–∞ –≤—ã –Ω–∞–≤–æ–¥–∏—Ç–µ —Å–≤–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –Ω–∞ –ø–ª–æ—Å–∫–æ—Å—Ç—å, –≤—ã –¥–æ–ª–∂–Ω—ã –≤–∏–¥–µ—Ç—å, –∫–∞–∫ –ø—Ä–∏—Ü–µ–ª —Å–ª–µ–¥—É–µ—Ç –∑–∞ –¥–≤–∏–∂–µ–Ω–∏—è–º–∏ –≤–∞—à–µ–π –∫–∞–º–µ—Ä—ã.

### **–°–æ–∑–¥–∞–π—Ç–µ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è**

–ò–≥—Ä–æ–∫ –±—É–¥–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –ø—Ä–∏–º–∏—Ç–∏–≤–æ–º, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –¥–≤–∏–≥–∞—Ç—å—Å—è –≤ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –ø—Ä–∏—Ü–µ–ª–∞.

### **–î–æ–±–∞–≤—å—Ç–µ**¬†`WatcherBehavior`¬†**–≤ —Å–≤–æ—é —Å—Ü–µ–Ω—É**

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–π —Ä–∞–Ω–µ–µ —Å–∫—Ä–∏–ø—Ç `AimBehaviour` –∏ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –µ–≥–æ:
    1. —Å–¥–µ–ª–∞–µ–º –Ω–∞—à —Ü–µ–ª–µ–≤–æ–π –æ–±—ä–µ–∫—Ç –∏ —Ç–µ–∫—É—â—É—é –ø–ª–æ—Å–∫–æ—Å—Ç—å –ø—É–±–ª–∏—á–Ω—ã–º–∏ –¥–ª—è —á—Ç–µ–Ω–∏—è;
    2. –¥–æ–±–∞–≤–∏–º –ø–∞—Ä–∞–º–µ—Ç—Ä –¥–ª—è –ø–æ—Å–ª–µ–¥–Ω–µ–π –ø–ª–æ—Å–∫–æ—Å—Ç–∏, –Ω–∞ –∫–æ—Ç–æ—Ä—É—é –º—ã —É–¥–∞—á–Ω–æ —Ü–µ–ª–∏–ª–∏—Å—å;
    3. –º–µ—Ç–æ–¥ –¥–ª—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –ø–ª–æ—Å–∫–æ—Å—Ç–∏.

    ```csharp
    using System.Collections.Generic;
    using System.Linq;
    using UnityEngine;
    using UnityEngine.XR.ARFoundation;
    using UnityEngine.XR.ARSubsystems;
    
    public class AimBehaviour : MonoBehaviour
    {
        [field: SerializeField] public GameObject target { get; private set; } // –û–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å, —á—Ç–æ –º—ã —Ü–µ–ª–∏–º—Å—è –Ω–∞ –ø–ª–æ—Å–∫–æ—Å—Ç—å
        public ARPlane currentPlane { get; private set; } // –¢–µ–∫—É—â–∞—è –ø–ª–æ—Å–∫–æ—Å—Ç—å, –Ω–∞ –∫–æ—Ç–æ—Ä—É—é –º—ã —Ü–µ–ª–∏–º—Å—è
    
        [SerializeField] private ARRaycastManager raycastManager; // –ú–µ–Ω–µ–¥–∂–µ—Ä –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ª—É—á–∞–º–∏
        [SerializeField] private ARPlaneManager planeManager; // –ú–µ–Ω–µ–¥–∂–µ—Ä –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–ª–æ—Å–∫–æ—Å—Ç—è–º–∏
    
        private ARPlane _lockedPlane; // –ü–æ—Å–ª–µ–¥–Ω—è—è –ø–ª–æ—Å–∫–æ—Å—Ç—å, –Ω–∞ –∫–æ—Ç–æ—Ä—É—é –º—ã —É–¥–∞—á–Ω–æ —Ü–µ–ª–∏–ª–∏—Å—å
        private Camera _mainCamera; // –û—Å–Ω–æ–≤–Ω–∞—è –∫–∞–º–µ—Ä–∞
    
        private void Start()
        {
            _mainCamera = Camera.main;
        }
    
        private void Update()
        {
            var screenCenter = _mainCamera.ViewportToScreenPoint(new Vector3(0.5f, 0.5f));
    
            var hits = new List<ARRaycastHit>();
            raycastManager.Raycast(screenCenter, hits, TrackableType.PlaneWithinBounds);
    
            currentPlane = null;
            ARRaycastHit? hit = null;
            if (hits.Count > 0)
            {
                var lockedPlane = _lockedPlane;
                hit = lockedPlane == null
                    ? hits[0]
                    : hits.SingleOrDefault(x => x.trackableId == lockedPlane.trackableId);
            }
    
            if (hit.HasValue)
            {
                currentPlane = planeManager.GetPlane(hit.Value.trackableId);
                transform.position = hit.Value.pose.position;
            }
    
            target.SetActive(currentPlane != null);
        }
    
        // –ú–µ—Ç–æ–¥ –¥–ª—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –ø–ª–æ—Å–∫–æ—Å—Ç–∏
        public void SetLockedPlane(ARPlane keepPlane)
        {
            _lockedPlane = keepPlane;
        }
    }
    ```

2. –¢–µ–ø–µ—Ä—å –æ—Ç–∫—Ä–æ–π—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–π —Ä–∞–Ω–µ–µ –≤–∞–º–∏ —Å–∫—Ä–∏–ø—Ç `WatcherSpawner` –∏ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –µ–≥–æ:

    ```csharp
    using UnityEngine;
    
    public class WatcherSpawner : MonoBehaviour
    {
        [SerializeField] private AimBehaviour aimBehaviour; // –°—Å—ã–ª–∫–∞ –Ω–∞ –ª–æ–≥–∏–∫—É –ø—Ä–∏—Ü–µ–ª–∏–≤–∞–Ω–∏—è
        [SerializeField] private GameObject watcherPrefab; // –ü—Ä–µ—Ñ–∞–± –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è
        [SerializeField] private float speed = 1.2f; // –°–∫–æ—Ä–æ—Å—Ç—å –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è
    
        private WatcherBehavior _watcherBehavior; // –°—Å—ã–ª–∫–∞ –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è
    
        // –ü—Ä–∏—Ü–µ–ª–∏–≤–∞–µ–º—Å—è –Ω–∞ –ø–ª–æ—Å–∫–æ—Å—Ç—å –∏ —Å–æ–∑–¥–∞–µ–º –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è 
        private void Update()
        {
            if (_watcherBehavior == null && aimBehaviour.currentPlane != null)
            {
                var instantiate = Instantiate(watcherPrefab, aimBehaviour.transform.position, Quaternion.identity);
                _watcherBehavior = instantiate.GetComponent<WatcherBehavior>();
                _watcherBehavior.SetUp(speed, aimBehaviour);
    
                aimBehaviour.SetLockedPlane(aimBehaviour.currentPlane);
            }
        }
    }
    ```

3. –†–∞–∑–±–µ—Ä—ë–º—Å—è, —á—Ç–æ –Ω–∞–ø–∏—Å–∞–Ω–æ –≤ –∫–æ–¥–µ –≤—ã—à–µ:
    1. –í –Ω–∞—á–∞–ª–µ –∫–ª–∞—Å—Å–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã —Ç—Ä–∏ –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö –ø–æ–ª—è —Å –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏ `[SerializeField]`, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∑–≤–æ–ª—è—é—Ç –ø—Ä–∏—Å–≤–æ–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è —ç—Ç–∏–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º —á–µ—Ä–µ–∑ –∏–Ω—Å–ø–µ–∫—Ç–æ—Ä Unity:
        - `aimBehaviour`: —Å—Å—ã–ª–∫–∞ –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç¬†`AimBehaviour`, –∫–æ—Ç–æ—Ä—ã–π, –ø—Ä–µ–¥–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ, —É–ø—Ä–∞–≤–ª—è–µ—Ç –ª–æ–≥–∏–∫–æ–π –ø—Ä–∏—Ü–µ–ª–∏–≤–∞–Ω–∏—è –≤ –∏–≥—Ä–µ;
        - `watcherPrefab`: –ø—Ä–µ—Ñ–∞–± –æ–±—ä–µ–∫—Ç–∞ "–Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è", –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤—ã—Ö —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ —ç—Ç–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –∏–≥—Ä–æ–≤–æ–º –º–∏—Ä–µ;
        - `speed`: —Å–∫–æ—Ä–æ—Å—Ç—å –¥–≤–∏–∂–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ "–Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–µ–π".
    2. –ü—Ä–∏–≤–∞—Ç–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å—Å—ã–ª–æ–∫ –Ω–∞ —Ç–µ–∫—É—â–∏–π –æ–±—ä–µ–∫—Ç "–Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å" (`_watcherBehavior`).
    3. **–ú–µ—Ç–æ–¥¬†`Update()`**: –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∫–∞–∂–¥—ã–π –∫–∞–¥—Ä –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –æ—Å–Ω–æ–≤–Ω—É—é –ª–æ–≥–∏–∫—É —Ä–∞–±–æ—Ç—ã —Å–∫—Ä–∏–ø—Ç–∞. –û–Ω –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —Å–æ–∑–¥–∞–Ω –ª–∏ —É–∂–µ –æ–±—ä–µ–∫—Ç "–Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å" (`_watcherBehavior == null`) –∏ –µ—Å—Ç—å –ª–∏ —Ü–µ–ª—å –¥–ª—è –ø—Ä–∏—Ü–µ–ª–∏–≤–∞–Ω–∏—è (`aimBehaviour.currentPlane!= null`). –ï—Å–ª–∏ –æ–±–∞ —É—Å–ª–æ–≤–∏—è –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è, —Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–ª–µ–¥—É—é—â–µ–µ:
        - –°–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä –æ–±—ä–µ–∫—Ç–∞ "–Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è" —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞¬†`Instantiate`, –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º —Ü–µ–ª–∏ –ø—Ä–∏—Ü–µ–ª–∏–≤–∞–Ω–∏—è (`aimBehaviour.transform.position`) –±–µ–∑ –ø–æ–≤–æ—Ä–æ—Ç–∞ (`Quaternion.identity`);
        - –ü–æ–ª—É—á–µ–Ω–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç¬†`WatcherBehavior`¬†–∏–∑ –Ω–æ–≤–æ–≥–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤¬†`_watcherBehavior`;
        - –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –º–µ—Ç–æ–¥¬†`SetUp`¬†—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞¬†`WatcherBehavior`, –ø–µ—Ä–µ–¥–∞–≤–∞—è –µ–º—É —Å–∫–æ—Ä–æ—Å—Ç—å –∏ —Å—Å—ã–ª–∫—É –Ω–∞¬†`aimBehaviour`¬†–¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–≤–µ–¥–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞ "–Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è";
        - –ú–µ—Ç–æ–¥¬†`SetLockedPlane`¬†–≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —É¬†`aimBehaviour`, —á—Ç–æ–±—ã —É–∫–∞–∑–∞—Ç—å, —á—Ç–æ —Ç–µ–∫—É—â–∞—è –ø–ª–æ—Å–∫–æ—Å—Ç—å —Å—Ç–∞–ª–∞ —Ü–µ–ª—å—é –¥–ª—è –ø—Ä–∏—Ü–µ–ª–∏–≤–∞–Ω–∏—è.
4. –¢–µ–ø–µ—Ä—å –æ—Ç–∫—Ä–æ–π—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–π —Ä–∞–Ω–µ–µ –≤–∞–º–∏ —Å–∫—Ä–∏–ø—Ç `WatcherBehaviour` –∏ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –µ–≥–æ:

    ```csharp
    using UnityEngine;
    
    public class WatcherBehavior : MonoBehaviour
    {
        // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–∫–æ—Ä–æ—Å—Ç—å –∏ —Ü–µ–ª—å –¥–ª—è –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è
        public void SetUp(float speed, AimBehaviour aimBehaviour)
        {
            _speed = speed;
            _target = aimBehaviour.target.transform;
        }
    
        private float _speed; // –°–∫–æ—Ä–æ—Å—Ç—å –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è
        private Transform _target; // –¶–µ–ª—å –¥–ª—è –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è
    
        // –ü–æ–≤–æ—Ä–∞—á–∏–≤–∞–µ–º—Å—è –∫ —Ü–µ–ª–∏ –∏ –¥–≤–∏–≥–∞–µ–º—Å—è –∫ –Ω–µ–π
        private void Update()
        {
            var trackingPosition = _target.position;
            var currentPosition = transform.position;
    
            if (Vector3.Distance(trackingPosition, currentPosition) < 0.1)
            {
                return;
            }
    
            var lookRotation = Quaternion.LookRotation(trackingPosition - currentPosition);
            transform.rotation = Quaternion.Lerp(transform.rotation, lookRotation, Time.deltaTime * 10f);
            transform.position = Vector3.MoveTowards(currentPosition, trackingPosition, _speed * Time.deltaTime);
        }
    }
    ```

5. –í–æ—Ç –ø–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö –∞—Å–ø–µ–∫—Ç–æ–≤ —ç—Ç–æ–≥–æ –∫–ª–∞—Å—Å–∞:
    - **–ü—É–±–ª–∏—á–Ω—ã–π –º–µ—Ç–æ–¥¬†`SetUp(float speed, AimBehaviour aimBehaviour)`**: –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞¬†`WatcherBehavior`. –û–Ω –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –¥–≤–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞: —Å–∫–æ—Ä–æ—Å—Ç—å (`speed`), —Å –∫–æ—Ç–æ—Ä–æ–π –¥–æ–ª–∂–µ–Ω –¥–≤–∏–≥–∞—Ç—å—Å—è –æ–±—ä–µ–∫—Ç "–Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å", –∏ —Å—Å—ã–ª–∫—É –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç¬†`AimBehaviour`¬†(`aimBehaviour`), –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–µ–∫—É—â–µ–π —Ü–µ–ª–∏ –¥–ª—è –Ω–∞–±–ª—é–¥–µ–Ω–∏—è. –í–Ω—É—Ç—Ä–∏ –º–µ—Ç–æ–¥–∞ —ç—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö –ø–æ–ª–µ–π¬†`_speed`¬†–∏¬†`_target`.
    - **–ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –ø–æ–ª—è**:
        - `_speed`: —Ö—Ä–∞–Ω–∏—Ç —Å–∫–æ—Ä–æ—Å—Ç—å, —Å –∫–æ—Ç–æ—Ä–æ–π –æ–±—ä–µ–∫—Ç "–Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å" –±—É–¥–µ—Ç –¥–≤–∏–≥–∞—Ç—å—Å—è –∫ —Å–≤–æ–µ–π —Ü–µ–ª–∏.
        - `_target`: —Ö—Ä–∞–Ω–∏—Ç —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—é (Transform) —Ü–µ–ª–∏, –∫ –∫–æ—Ç–æ—Ä–æ–π –¥–æ–ª–∂–µ–Ω —Å—Ç—Ä–µ–º–∏—Ç—å—Å—è –æ–±—ä–µ–∫—Ç "–Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å". –≠—Ç–∞ —Ü–µ–ª—å —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥¬†`SetUp`.
    - **–ú–µ—Ç–æ–¥¬†`Update()`**: –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∫–∞–∂–¥—ã–π –∫–∞–¥—Ä –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –ª–æ–≥–∏–∫—É –¥–≤–∏–∂–µ–Ω–∏—è –∏ –ø–æ–≤–æ—Ä–æ—Ç–∞ –æ–±—ä–µ–∫—Ç–∞ "–Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è". –í –Ω–µ–º —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å–ª–µ–¥—É—é—â–∞—è –ª–æ–≥–∏–∫–∞:
        - –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —Ç–µ–∫—É—â–∞—è –ø–æ–∑–∏—Ü–∏—è –æ–±—ä–µ–∫—Ç–∞ "–Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è" (`currentPosition`) –∏ –ø–æ–∑–∏—Ü–∏—è —Ü–µ–ª–∏ (`trackingPosition`).
        - –ï—Å–ª–∏ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É –æ–±—ä–µ–∫—Ç–æ–º "–Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è" –∏ –µ–≥–æ —Ü–µ–ª—å—é –º–µ–Ω—å—à–µ –Ω–µ–∫–æ—Ç–æ—Ä–æ–≥–æ –ø–æ—Ä–æ–≥–æ–≤–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è (–≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ 0.1), —Ç–æ –º–µ—Ç–æ–¥ –∑–∞–≤–µ—Ä—à–∞–µ—Ç —Å–≤–æ—é —Ä–∞–±–æ—Ç—É, —Ç–∞–∫ –∫–∞–∫ –æ–±—ä–µ–∫—Ç "–Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å" –¥–æ—Å—Ç–∏–≥ —Å–≤–æ–µ–π —Ü–µ–ª–∏.
        - –í—ã—á–∏—Å–ª—è–µ—Ç—Å—è –ø–æ–≤–æ—Ä–æ—Ç–Ω–∞—è –º–∞—Ç—Ä–∏—Ü–∞ (`lookRotation`), –∫–æ—Ç–æ—Ä–∞—è –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∞ –Ω–∞ —Ü–µ–ª—å, –∏—Å–ø–æ–ª—å–∑—É—è —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É –ø–æ–∑–∏—Ü–∏–µ–π —Ü–µ–ª–∏ –∏ —Ç–µ–∫—É—â–µ–π –ø–æ–∑–∏—Ü–∏–µ–π –æ–±—ä–µ–∫—Ç–∞ "–Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è".
        - –û–±—ä–µ–∫—Ç "–Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å" –ø–ª–∞–≤–Ω–æ –ø–æ–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è –∫ —Ü–µ–ª–∏, –∏—Å–ø–æ–ª—å–∑—É—è —Ñ—É–Ω–∫—Ü–∏—é¬†`Quaternion.Lerp`¬†–¥–ª—è –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏–∏ –º–µ–∂–¥—É —Ç–µ–∫—É—â–∏–º –ø–æ–ª–æ–∂–µ–Ω–∏–µ–º –ø–æ–≤–æ—Ä–æ—Ç–∞ –∏ –∂–µ–ª–∞–µ–º—ã–º.
        - –û–±—ä–µ–∫—Ç "–Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å" —Ç–∞–∫–∂–µ –¥–≤–∏–∂–µ—Ç—Å—è –∫ —Ü–µ–ª–∏, –∏—Å–ø–æ–ª—å–∑—É—è —Ñ—É–Ω–∫—Ü–∏—é¬†`Vector3.MoveTowards`¬†–¥–ª—è –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏–∏ –º–µ–∂–¥—É –µ–≥–æ —Ç–µ–∫—É—â–µ–π –ø–æ–∑–∏—Ü–∏–µ–π –∏ –ø–æ–∑–∏—Ü–∏–µ–π —Ü–µ–ª–∏, —É—á–∏—Ç—ã–≤–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –∏ –≤—Ä–µ–º—è, –ø—Ä–æ—à–µ–¥—à–µ–µ —Å –º–æ–º–µ–Ω—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∫–∞–¥—Ä–∞.

### **–¢–µ—Å—Ç-–¥—Ä–∞–π–≤**

1. –°–¥–µ–ª–∞–π—Ç–µ –Ω–æ–≤—É—é –∏–≥—Ä–æ–≤—É—é —Å–±–æ—Ä–∫—É –Ω–∞ –≤–∞—à–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ;
2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –≤–Ω–µ—Å–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è;
3. –í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å –ø–æ—è–≤–ª—è—é—â–∏–π—Å—è –ø—Ä–∏–º–∏—Ç–∏–≤ –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —Å–ª–µ–¥–æ–≤–∞—Ç—å –∑–∞ –ø—Ä–∏—Ü–µ–ª–æ–º.

## **–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –ø–ª–æ—Å–∫–æ—Å—Ç–∏**

### –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞ –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–ª–æ—Å–∫–æ—Å—Ç–∏

–ë—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π –º–∞—Ç–µ—Ä–∏–∞–ª –∫–æ—Ç–æ—Ä—ã–π –∑–∞–º–µ–Ω–∏—Ç —Ç–µ–∫—É—â—É—é –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏ (–±–µ–ª—ã–µ —Ç–æ—á–∫–∏) –Ω–∞ —Å–≤–æ—é.

1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –º–∞—Ç–µ—Ä–∏–∞–ª –∏ –Ω–∞–∑–æ–≤–∏—Ç–µ –µ–≥–æ ‚Äú**Plane Material**‚Äù;
2. –ó–∞–º–µ–Ω–∏—Ç–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —à–µ–π–¥–µ—Ä –º–∞—Ç–µ—Ä–∏–∞–ª–∞ –Ω–∞ ‚Äú**FeatheredPlaneShader**‚Äù –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ **Plane**;

3. –î–æ–±–∞–≤—å—Ç–µ —Ç–µ–∫—Å—Ç—É—Ä—É –∫ –º–∞—Ç–µ—Ä–∏–∞–ª—É, –∏–º–µ–Ω–Ω–æ —Ç–µ–∫—Å—Ç—É—Ä–∞ –∏ –±—É–¥–µ—Ç –æ—Ç–≤–µ—á–∞—Ç—å –∑–∞ —Ç–æ, –∫–∞–∫ –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è **Plane;**
4. –ú–æ–∂–µ—Ç–µ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Ü–≤–µ—Ç –ø–æ —Å–≤–æ–µ–º—É –∂–µ–ª–∞–Ω–∏—é.

### –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–µ—Ñ–∞–±–∞ ‚Äú**AR Plane‚Äù**

1. –°–æ–∑–¥–∞–π—Ç–µ –ø—É—Å—Ç–æ–π –∏–≥—Ä–æ–≤–æ–π –æ–±—ä–µ–∫—Ç, –Ω–∞–∑–æ–≤—ë–º –µ–≥–æ ‚Äú**AR Plane Prefab**‚Äù;
2. –î–æ–±–∞–≤—å—Ç–µ –Ω–∞ –Ω–µ–≥–æ —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
    1. ARPlane;
    2. ARPlaneMeshVisualizer;
    3. MeshCollider;
    4. MeshFilter;
    5. MeshRenderer.
3. –í ‚Äú**MeshRenderer**‚Äù –¥–æ–±–∞–≤—å—Ç–µ —Ä–∞–Ω–µ–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–π –º–∞—Ç–µ—Ä–∏–∞–ª –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–ª–æ—Å–∫–æ—Å—Ç–µ–π;
4. –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ ‚Äú**AR Plane Prefab**‚Äù –≤ –æ–∫–Ω–æ ‚Äú**Prject‚Äù**, —Ç–µ–ø–µ—Ä—å —É –Ω–∞—Å –µ—Å—Ç—å –ø—Ä–µ—Ñ–∞–± –∏ –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç –æ–±—ä–µ–∫—Ç —Å–æ —Å—Ü–µ–Ω—ã;
5. –ù–∞–π–¥–∏—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç ‚Äú**AR Plane Manager**‚Äù –∏ –≤ –ø–æ–ª–µ ‚Äú**Plane Prefab**‚Äù –∑–∞–º–µ–Ω–∏—Ç–µ –ø—Ä–µ—Ñ–∞–± –Ω–∞ –Ω–∞—à.

## –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã —Å AR Raycast Manager

ARRaycastManager –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –ø—Ä–æ–µ–∫—Ü–∏—é –ª—É—á–µ–π –≤ "—Ä–µ–∞–ª—å–Ω–æ–º" –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ.

–î–∞–≤–∞–π—Ç–µ –Ω–∞–ø–∏—à–µ–º –ø—Ä–æ—Å—Ç–µ–Ω—å–∫–∏–π —Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏ —Ç–∞–ø–µ –ø–æ —ç–∫—Ä–∞–Ω—É –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–∏–º–∏—Ç–∏–≤ —Å–ª—É—á–∞–π–Ω–æ–≥–æ —Ü–≤–µ—Ç–∞ –≤ —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞—Ö –æ–±—ä–µ–∫—Ç.

1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç –∏ –Ω–∞–∑–æ–≤–∏—Ç–µ –µ–≥–æ ‚Äú**SpawnerMulticoloredPrimitives**‚Äù;
2. –í—Å—Ç–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥:

    ```csharp
    using System;
    using System.Collections.Generic;
    using UnityEngine;
    using UnityEngine.InputSystem;
    using UnityEngine.InputSystem.Controls;
    using UnityEngine.XR.ARFoundation;
    using UnityEngine.XR.ARSubsystems;
    using Random = UnityEngine.Random;
    
    public class SpawnerMulticoloredPrimitives : MonoBehaviour
    {
        [SerializeField] private ARRaycastManager raycastManager;
        [SerializeField] private InputActionReference tapAction;
    
        private void OnEnable()
        {
            tapAction.action.Enable();
            tapAction.action.performed += OnTap;
        }
    
        private void OnDisable()
        {
            tapAction.action.Disable();
            tapAction.action.performed -= OnTap;
        }
    
        private void OnTap(InputAction.CallbackContext context)
        {
            Vector2 touchPosition;
    
            // –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏ –∫–∞—Å–∞–Ω–∏—è –∏–∑ context
            if (context.control is Pointer inputPointer)
            {
                touchPosition = inputPointer.position.ReadValue();
            }
            else if (context.control is TouchControl pointerControl)
            {
                touchPosition = pointerControl.position.ReadValue();
            }
            else
            {
                Debug.LogWarning("–î–µ–π—Å—Ç–≤–∏–µ –∫–∞—Å–∞–Ω–∏—è –±—ã–ª–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ, –Ω–æ –æ–Ω–æ –Ω–µ –±—ã–ª–æ —Å–µ–Ω—Å–æ—Ä–Ω—ã–º –≤–≤–æ–¥–æ–º.");
                touchPosition = new Vector2(Screen.width / 2f, Screen.height / 2f);
            }
    
            var arRaycastHits = new List<ARRaycastHit>();
    
            // –ü—Ä–æ–≤–µ—Ä–∫–∞, –µ—Å–ª–∏ –∫–∞—Å–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–æ—à–ª–æ –Ω–∞ –ø–ª–æ—Å–∫–æ—Å—Ç–∏ AR
            if (!raycastManager.Raycast(touchPosition, arRaycastHits, TrackableType.PlaneWithinPolygon))
            {
                return;
            }
    
            // –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–∑—ã –ø–µ—Ä–≤–æ–≥–æ –ø–æ–ø–∞–¥–∞–Ω–∏—è
            var hitPose = arRaycastHits[0].pose;
    
            // –í—ã–±–æ—Ä —Å–ª—É—á–∞–π–Ω–æ–≥–æ –ø—Ä–∏–º–∏—Ç–∏–≤–∞
            var values = Enum.GetValues(typeof(PrimitiveType));
            var randomPrimitive = (PrimitiveType)values.GetValue(Random.Range(0, values.Length));
    
            // –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–º–∏—Ç–∏–≤–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –µ–≥–æ —Å–≤–æ–π—Å—Ç–≤
            var placedObject = GameObject.CreatePrimitive(randomPrimitive);
            placedObject.transform.localScale = Vector3.one * 0.1f;
            placedObject.transform.position = hitPose.position;
            placedObject.transform.rotation = hitPose.rotation;
            placedObject.GetComponent<Renderer>().material.color = Random.ColorHSV();
        }
    }
    ```

3. –≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞–µ—Ç —Å–ª—É—á–∞–π–Ω—ã–µ –ø—Ä–∏–º–∏—Ç–∏–≤—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫—É–±—ã, —Å—Ñ–µ—Ä—ã –∏ —Ç.–¥.) –Ω–∞ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—è—Ö –≤ —Ä–µ–∞–ª—å–Ω–æ–º –º–∏—Ä–µ, –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞—Å–ø–æ–∑–Ω–∞—é—Ç—Å—è AR –∫–∞–º–µ—Ä–æ–π, –ø—Ä–∏ –∫–∞—Å–∞–Ω–∏–∏ —ç–∫—Ä–∞–Ω–∞. –†–∞–∑–±–µ—Ä—ë–º—Å—è, —á—Ç–æ –Ω–∞–ø–∏—Å–∞–Ω–æ –≤ –∫–æ–¥–µ –≤—ã—à–µ:
    1. **–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**
        1. `raycastManager`: –≠—Ç–æ—Ç –æ–±—ä–µ–∫—Ç —É–ø—Ä–∞–≤–ª—è–µ—Ç –ª—É—á–µ–≤—ã–º –æ–±—Å—Ç—Ä–µ–ª–æ–º –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞—Ç—å –ø–ª–æ—Å–∫–æ—Å—Ç–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –º–∏—Ä–µ.
        2. `tapAction`: –≠—Ç–æ —Å—Å—ã–ª–∫–∞ –Ω–∞ –¥–µ–π—Å—Ç–≤–∏–µ –≤–≤–æ–¥–∞, –∫–æ—Ç–æ—Ä–æ–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –∫–∞—Å–∞–Ω–∏—è —ç–∫—Ä–∞–Ω–∞.
    2. **–ú–µ—Ç–æ–¥—ã –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞**
        1. **OnEnable**: –ú–µ—Ç–æ–¥ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –æ–±—ä–µ–∫—Ç –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è. –í–∫–ª—é—á–∞–µ—Ç –¥–µ–π—Å—Ç–≤–∏–µ –≤–≤–æ–¥–∞ –∏ –ø–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –Ω–∞ —Å–æ–±—ã—Ç–∏–µ `performed`, –∫–æ—Ç–æ—Ä–æ–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –¥–µ–π—Å—Ç–≤–∏—è (–≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ, –ø—Ä–∏ –∫–∞—Å–∞–Ω–∏–∏ —ç–∫—Ä–∞–Ω–∞).
        2. **OnDisable**: –ú–µ—Ç–æ–¥ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –æ–±—ä–µ–∫—Ç –¥–µ–∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è. –û—Ç–∫–ª—é—á–∞–µ—Ç –¥–µ–π—Å—Ç–≤–∏–µ –≤–≤–æ–¥–∞ –∏ –æ—Ç–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –æ—Ç —Å–æ–±—ã—Ç–∏—è `performed`, —á—Ç–æ–±—ã –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å –≤—ã–∑–æ–≤—ã –º–µ—Ç–æ–¥–∞ `OnTap`, –∫–æ–≥–¥–∞ –æ–±—ä–µ–∫—Ç –Ω–µ–∞–∫—Ç–∏–≤–µ–Ω.
    3. **–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–∞—Å–∞–Ω–∏—è (OnTap)**
        1. –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏ –∫–∞—Å–∞–Ω–∏—è –∫–æ—Ç–æ—Ä–∞—è –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –¥–µ–π—Å—Ç–≤–∏—è;
        2. –ü–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è, –ø–æ–ø–∞–¥–∞–µ—Ç –ª–∏ –ª—É—á –Ω–∞ –ø–ª–æ—Å–∫–æ—Å—Ç—å, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—É—é AR —Å–∏—Å—Ç–µ–º–æ–π. –ï—Å–ª–∏ –Ω–µ—Ç, –º–µ—Ç–æ–¥ –ø—Ä–µ–∫—Ä–∞—â–∞–µ—Ç —Ä–∞–±–æ—Ç—É. –ï—Å–ª–∏ –ø–æ–ø–∞–¥–∞–µ—Ç, `arRaycastHits` —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ø–∏—Å–æ–∫ –ø–æ–ø–∞–¥–∞–Ω–∏–π, –∏ –±–µ—Ä–µ—Ç—Å—è –ø–µ—Ä–≤–æ–µ –ø–æ–ø–∞–¥–∞–Ω–∏–µ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–æ–∑–∏—Ü–∏–∏;
        3. –ü–æ—Ç–æ–º –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–º–∏—Ç–∏–≤–∞.  –°–Ω–∞—á–∞–ª–∞ –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è —Å–ª—É—á–∞–π–Ω—ã–π —Ç–∏–ø –ø—Ä–∏–º–∏—Ç–∏–≤–∞ –∏–∑ `PrimitiveType` (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫—É–±, —Å—Ñ–µ—Ä–∞ –∏ —Ç.–¥.). –ó–∞—Ç–µ–º —Å–æ–∑–¥–∞–µ—Ç—Å—è –ø—Ä–∏–º–∏—Ç–∏–≤ —Å –ø–æ–º–æ—â—å—é `GameObject.CreatePrimitive`.  –ü—Ä–∏–º–∏—Ç–∏–≤—É –∑–∞–¥–∞—é—Ç—Å—è –º–∞—Å—à—Ç–∞–±, –ø–æ–∑–∏—Ü–∏—è –∏ –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å `hitPose`. –ü—Ä–∏–º–∏—Ç–∏–≤—É –Ω–∞–∑–Ω–∞—á–∞–µ—Ç—Å—è —Å–ª—É—á–∞–π–Ω—ã–π —Ü–≤–µ—Ç —Å –ø–æ–º–æ—â—å—é `Random.ColorHSV`.
4. –ü–æ–≤–µ—Å–∏–º –Ω–∞—à —Å–∫—Ä–∏–ø—Ç –Ω–∞ –æ–±—ä–µ–∫—Ç, –∫ –ø—Ä–∏–º–µ—Ä—É ‚Äú**XR Origin (Mobile AR)**‚Äù –∏ –∑–∞–ø–æ–ª–Ω–∏–º –ø—É—Å—Ç—ã–µ –ø–æ–ª—è. TapAction –º–æ–∂–Ω–æ –∑–∞–ø–æ–ª–Ω–∏—Ç—å —Å—Å—ã–ª–∫–æ–π –Ω–∞ ‚Äú**UI/Click**‚Äù.

## –ü–æ–¥–≤–µ–¥–µ–Ω–∏–µ –∏—Ç–æ–≥–æ–≤

**–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!**¬†–í—ã –¥–æ–±—Ä–∞–ª–∏—Å—å –¥–æ –∫–æ–Ω—Ü–∞ —ç—Ç–æ–≥–æ –∫—É—Ä—Å–∞ –ø–æ Unity AR Foundation –¥–ª—è Mobile.
